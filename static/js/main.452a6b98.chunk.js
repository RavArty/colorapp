(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(e,t,a){e.exports=a(91)},67:function(e,t,a){},72:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),s=a.n(o),c=(a(67),a(19)),i=a.n(c),l=a(34),u=a(23),m=a(8),p=a(9),h=a(11),d=a(10),f=a(12),b=a(25),g=a(131),v=function(e){function t(e){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).call(this,e))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.entries;return r.a.createElement("div",null,r.a.createElement(g.a,{variant:"h4"},"Hi ".concat(t,", upload any image...")),r.a.createElement(g.a,{variant:"h4"},"Uploaded images: ".concat(a)))}}]),t}(r.a.Component),y=a(134),E=a(133),j=(a(72),function(e){var t=e.onInputChange,a=e.onButtonSubmit;return r.a.createElement(E.a,{className:"header-imagelinkform",maxWidth:"lg"},r.a.createElement(g.a,{className:"heading-motto",variant:"h4"},"This Color Model will detect dominant colors in your pictures"),r.a.createElement("div",{className:"mw7 center pa3"},r.a.createElement("div",{className:"form-input-image"},r.a.createElement("input",{className:"f4 pa2 w-70 center",placeholder:"Your Image Link",type:"text",onChange:t}),r.a.createElement(y.a,{color:"default",variant:"contained",onClick:a},"DETECT"))))}),O=a(54),C=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"mw8 pa2 center br4 shadow-3"},"".concat(this.props.colorCode,", ").concat(Number(100*this.props.value).toFixed(2),"%  "),"\xa0",r.a.createElement(O.Circle,{r:10,fill:{color:this.props.colorCode}})),r.a.createElement("div",{className:"pb2"}))}}]),t}(r.a.Component),w=a(135),N=a(136),S=Object(w.a)(function(e){return{progress:{margin:e.spacing(2)}}}),k=function(e){var t=e.colors,a=e.imgUrl,n=S();return r.a.createElement("div",{className:"center"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"pa2"},r.a.createElement("img",{alt:"",src:a,width:"500px",height:"auto"})),r.a.createElement("th",{className:"pa2"},!t.length&&a?r.a.createElement(N.a,{className:n.progress}):t.map(function(e,t){return r.a.createElement(C,{key:t,colorCode:e.raw_hex,value:e.value})}))))))},x=a(21),U=(a(76),function(e){var t=e.id;return r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement(x.b,{className:"button-history",to:{pathname:"/history",state:{id:t}}},r.a.createElement(y.a,{size:"large",variant:"contained",color:"primary"},"History")))}),I=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).keepColors=function(e){var t=e.outputs[0].data.colors;a.setState(Object.assign(a.state.colors,{colors:t}))},a.parseColors=function(e){var t=[];e.outputs[0].data.colors.map(function(e,a){return t.push(e.raw_hex,(100*e.value).toFixed(2))}),console.log("colorArr: ",t)},a.onInputChange=function(e){a.setState({input:e.target.value})},a.onButtonSubmit=function(){a.setState({imgUrl:a.state.input}),fetch("http://localhost:3000/imageurl",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:a.state.input})}).then(function(e){return e.json()}).then(function(e){a.keepColors(e);var t=[],n=[];e.outputs[0].data.colors.map(function(e,a){return t.push(e.raw_hex),n.push((100*e.value).toFixed(2))}),a.props.user&&fetch("http://localhost:3000/postcolors",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:a.state.input,id:a.props.user.id,colors:t,colorValue:n})}).then(function(e){return e.json()}).then(function(e){fetch("http://localhost:3000/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e[0]})}).then(function(e){return e.json()}).then(function(e){a.setState(Object.assign(a.state.entries,{entries:e}))}).catch(console.log)}).catch(function(e){return console.log("unable to post colors: ",e)})}).catch(function(e){return console.log(e)})},a.state={user:null,input:"",imgUrl:"",route:"testHome",isSignedIn:!1,entries:0,colors:[],colorsTest:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.user&&this.setState(Object.assign(this.state.entries,{entries:this.props.user.entries}))}},{key:"render",value:function(){var e,t=this.props.user,a=this.state,n=a.colors,o=a.imgUrl,s=a.entries;return e=null!==t?r.a.createElement("div",null,r.a.createElement(v,{name:t.displayName,entries:s}),r.a.createElement(j,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),r.a.createElement(k,{colors:n,imgUrl:o}),r.a.createElement(U,{id:t.id})):r.a.createElement("div",null,r.a.createElement(j,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),r.a.createElement(k,{colors:n,imgUrl:o})),r.a.createElement("div",{className:"App"},e)}}]),t}(n.Component),P=a(29),A=a(40),B=(a(78),function(e){var t=e.handleChange,a=e.label,n=Object(A.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?r.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)}),T=(a(79),a(31)),D=a.n(T);a(80),a(83);D.a.initializeApp({apiKey:"AIzaSyAedV4u1nMAOL4JIMwXWa2ZMCGtmOPzVZI",authDomain:"colors-db-df2df.firebaseapp.com",databaseURL:"https://colors-db-df2df.firebaseio.com",projectId:"colors-db-df2df",storageBucket:"",messagingSenderId:"584470325422",appId:"1:584470325422:web:c13c9f21360553b6"});var J=function(){var e=Object(u.a)(i.a.mark(function e(t,a){var n,r,o,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=W().doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.displayName,o=t.email,s=new Date,e.prev=9,e.next=12,n.set(Object(l.a)({displayName:r,email:o,createdAt:s},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,null,[[9,14]])}));return function(t,a){return e.apply(this,arguments)}}(),F=D.a.auth(),W=D.a.firestore,z=new D.a.auth.GoogleAuthProvider;z.setCustomParameters({prompt:"select_account"});var M=function(){return F.signInWithPopup(z)},q=(D.a,a(85),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){var e=Object(u.a)(i.a.mark(function e(t){var n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,o=n.password,e.prev=2,e.next=5,F.signInWithEmailAndPassword(r,o);case 5:a.setState({email:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(P.a)({},r,n))},a.state={email:"",password:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){this.props.classes;return r.a.createElement(E.a,{className:"header",maxWidth:"sm"},r.a.createElement("h2",{className:"title"},"Sign In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"Email",required:!0,autoFocus:!0}),r.a.createElement(B,{name:"password",type:"password",handleChange:this.handleChange,value:this.state.password,label:"Password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"button"},r.a.createElement(y.a,{className:"button-signin",color:"secondary",size:"large",variant:"contained",type:"submit"},"Sign In"),r.a.createElement(y.a,{className:"button-signin",color:"secondary",size:"large",variant:"contained",onClick:M},"Sign in with Google")))))}}]),t}(r.a.Component)),G=(a(86),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).handleSubmit=function(){var t=Object(u.a)(i.a.mark(function t(a){var n,r,o,s,c,l,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.displayName,o=n.email,s=n.password,c=n.confirmPassword,s===c){t.next=5;break}return alert("passwords don't match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,F.createUserWithEmailAndPassword(o,s);case 8:return l=t.sent,u=l.user,t.next=12,J(u,{displayName:r});case 12:t.sent,e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.error(t.t0);case 19:case"end":return t.stop()}},t,null,[[5,16]])}));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(P.a)({},n,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){this.props.classes;var e=this.state,t=e.displayName,a=e.email,n=e.password,o=e.confirmPassword;return r.a.createElement(E.a,{className:"header",maxWidth:"sm"},r.a.createElement("h2",{className:"title"},"Sign Up"),r.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},r.a.createElement(B,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0,autoFocus:!0}),r.a.createElement(B,{type:"email",name:"email",value:a,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(B,{type:"password",name:"password",value:n,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(B,{type:"password",name:"confirmPassword",value:o,onChange:this.handleChange,label:"Confirm Password",required:!0}),r.a.createElement("div",{className:"button"},r.a.createElement(y.a,{color:"secondary",size:"large",variant:"contained",type:"submit"},"Sign Up"))))}}]),t}(r.a.Component)),L=a(137),H=a(138),R=a(139),_=a(5),V=(a(87),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentUser;return r.a.createElement(L.a,{className:"header-appbar",color:"primary",position:"static"},r.a.createElement(H.a,{variant:"regular"},r.a.createElement(x.b,{to:"/"},r.a.createElement(R.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement("img",{src:"https://i.ibb.co/YPFSJSg/multi-colors-in-circle-udt-2-2.png",style:{height:50,width:50}}))),r.a.createElement(g.a,{style:{flexGrow:1},color:"inherit",variant:"h6"},"COLORS"),a?r.a.createElement(y.a,{color:"secondary",variant:"contained",onClick:function(){return F.signOut()}},"SIGN OUT"):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.b,{className:"button",to:"/signup"},r.a.createElement(y.a,{className:t.signUpButton,color:"secondary",variant:"contained"},"Sign Up")),r.a.createElement(x.b,{className:"button",to:"/signin"},r.a.createElement(y.a,{color:"secondary",variant:"contained"},"Sign in")))))}}]),t}(r.a.Component)),Y=Object(_.a)(function(e){return{signUpButton:{marginRight:e.spacing(1)}}})(V),Z=a(140),K=a(141),X=a(143),Q=a(142),$=(a(88),Object(w.a)({card:{width:350},media:{height:240}})),ee=function(e){for(var t=$(),a=e.colors,n=e.imgurl,o=e.values,s=[],c=[],i=0;i<a.length;i++)c.push(a[i]),c.push(o[i]),s.push(c),c=[];return r.a.createElement("div",{className:"header-cards"},r.a.createElement(Z.a,{className:t.card},r.a.createElement(K.a,null,r.a.createElement(Q.a,{className:t.media,image:n}),r.a.createElement(X.a,null,r.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},s.map(function(e,t){return r.a.createElement(C,{key:t,colorCode:e[0],value:e[1]})}))))))},te=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).fetchHistoryData=function(e){fetch("http://localhost:3000/history",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(function(e){return e.json()}).then(function(e){a.setState({responsedata:e})}).catch(function(e){return console.log(e)})},a.state={responsedata:[]},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.id;fetch("http://localhost:3000/history",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(t){e.setState({responsedata:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return console.log("history13: ",this.state.responsedata),r.a.createElement("div",null,this.state.responsedata.map(function(t,a){return r.a.createElement(ee,{key:a,imgurl:e.state.responsedata[a].imgurl,colors:e.state.responsedata[a].colors,values:e.state.responsedata[a].colorvalues})}))}}]),t}(r.a.Component),ae=a(58),ne=a(144),re=a(57),oe=a.n(re),se=a(56),ce={title:"COLORS",theme:{primaryColor:{name:"blue",import:a.n(se).a},secondaryColor:{name:"red",import:oe.a},type:"light"}},ie=(a(89),Object(ae.a)({palette:{primary:ce.theme.primaryColor.import,secondary:ce.theme.secondaryColor.import,type:ce.theme.type}})),le=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).updateUserWithEntries=function(t){e.setState(Object.assign(e.state.currentUser,{entries:t[0].entries}))},e.unsubscribeFromAuth=null,e.registerUserInDB=function(t,a){t&&fetch("http://localhost:3000/checkuser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(n){204===n.status?fetch("http://localhost:3000/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,name:a.displayName,email:a.email})}).then(function(e){return e.json()}).catch(function(e){return console.log("user not registered in db",e)}):fetch("http://localhost:3000/entries",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(function(e){return e.json()}).then(function(t){return e.updateUserWithEntries(t)}).catch(function(e){return console.log("unable to fetch entries: ",e)})}).catch(function(e){return console.log("unable to check user in db",e)})},e.state={currentUser:null},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=F.onAuthStateChanged(function(){var t=Object(u.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,J(a);case 3:t.sent.onSnapshot(function(t){e.setState({currentUser:Object(l.a)({id:t.id},t.data())}),e.registerUserInDB(t.id,t.data())}),t.next=8;break;case 7:e.setState({currentUser:a});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this,t=this.state.currentUser;return r.a.createElement("div",null,r.a.createElement(ne.a,{theme:ie},r.a.createElement(Y,{currentUser:t}),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:function(){return r.a.createElement(I,{user:t})}}),r.a.createElement(b.b,{path:"/history",component:te}),r.a.createElement(b.b,{exact:!0,path:"/signin",render:function(){return e.state.currentUser?r.a.createElement(b.a,{to:"/"}):r.a.createElement(q,null)}}),r.a.createElement(b.b,{exact:!0,path:"/signup",render:function(){return e.state.currentUser?r.a.createElement(b.a,{to:"/"}):r.a.createElement(G,null)}}))))}}]),t}(n.Component);a(90);s.a.render(r.a.createElement(x.a,null,r.a.createElement(le,null)),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.452a6b98.chunk.js.map